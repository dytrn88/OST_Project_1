<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="../css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="../css/styles.css">

    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>

</head>

<body>
    <header>
        <h1>OST Project 1</h1>
    </header>


    </div>

    <main>
        <section>
            <h2>To-do app</h2>

            <div class="menu">
                <div class="menu-buttons">
                    <button class="menu-button" id="openDialog">+ Create</button>
                    <button class="menu-button" id="darkMode">Toggle</button>
                </div>

                <div class="dialog-overlay"></div>
                <div class="dialog-box">
                    <div class="top-bar">
                        <span class="close">&times;</span>
                    </div>

                    <form class="add-task-form-container" id="addTaskForm">
                        <input class="input-field" id="newTaskTitle" type="text" placeholder="Add title">
                        <input class="input-field" id="newTaskDate" type="date">
                        <textarea class="input-field" id="newTaskContent" cols=" 30" rows="5"
                            placeholder="Description..."></textarea>
                        <select class="input-field" id="newTaskPriority">
                            <option value="" disabled selected>Select priority</option>
                            <option value="3 - Urgent">3 - Urgent</option>
                            <option value="2 - High">2- High</option>
                            <option value="1 - Mid">1 - Mid</option>
                            <option value="0 - Low">0 - Low</option>
                        </select>
                        <button class="new-task-btn" type="button" id="newTaskBtn">Submit</button>
                    </form>
                </div>
            </div>

            <div class="task-container" id="taskContainer">
                <div class="task-item" id="taskItem">

                    <h3>Task list</h3>
                    <div class="sort-btn-container">
                        <button class="sort-task-btn" type="button" id="sortByTaskBtn">Sort by tasks</button>
                        <button class="sort-task-btn" type="button" id="sortByDueDateBtn">Sort by date</button>
                        <button class="sort-task-btn" type="button" id="sortByPriorityBtn">Sort by priority</button>
                        <br>
                        <button class="filter-task-btn">Filter completed</button>
                    </div>

                    <div class="task-list" id="taskList"> </div>
                </div>

                <script id="tasks-template" type="text/x-handlebars-template">
                    <table class="table table-striped">
                        <tbody>
                        {{#each task}}
                        <div data-id="{{_id}}" class="task-list-container">                            
                            <input data-id="{{_id}}" class="task-checkbox" type="checkbox">           
                            <p class="task-title">{{title}}</p>
                            <p class="task-date">{{duedate}}</p>
                            <p class="task-priority">{{priority}}</p>                
                            <button data-id="{{_id}}" class="edit-task-btn">Edit</button>                                                                                     
                        </div>
                        {{/each}}
                        </tbody>
                    </table>
                </script>

                <div class="task-detail-container">
                    <div class="task-detail" id="taskDetail">
                        <button class="close-task">&larr;</button>
                        <h3>Task details</h3>
                        <div class="edit-task-container"> Hier werden Tasks ausgegeben</div>
                    </div>

                    <script id="edit-tasks-template" type="text/x-handlebars-template">
                    <div data-id="{{_id}}" class="edit-task-list-container">                        
                        <input class="edit-field" id="editTitle" value="{{title}}">  
                        <textarea class="edit-field" id="editContent" cols="30" rows="5">{{content}}</textarea>                        
                        <input class="edit-field" id="editDueDate" type="date" value="{{duedate}}">  
                        <select class="edit-field" id="editPriority">
                            <option disabled selected>{{priority}}</option>
                            <option>3 - Urgent</option>
                            <option>2 - High</option>
                            <option>1 - Mid</option>
                            <option>0 - Low</option>
                        </select>    
                        <div data-id="{{_id}}" class="edit-task-btn-container">
                            <button data-id="{{_id}}" class="update-task-btn" id="updateTaskBtn">Update</button>
                            <button data-id="{{_id}}" class="delete-task-btn">Delete</button>                                            
                        </div>

                    </div>                                
                    </script>

                </div>

            </div>

        </section>

    </main>

    <script src="../js/controller/index-controller.js" type="module"></script>

</body>

</html>